<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LUNAVEK — Cart</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Didot&display=swap" rel="stylesheet">

  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg: #ffffff;
      --text: #111111;
      --muted: #666666;
      --border: rgba(0,0,0,0.08);
    }

    body.dark {
      --bg: #1c1c1c;
      --text: #ffffff;
      --muted: #bbbbbb;
      --border: rgba(255,255,255,0.12);
    }

    body {
      font-family: Inter, system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      transition: background .25s ease, color .25s ease;
      min-height: 100vh;
    }

    a { text-decoration: none; color: inherit; }
    button { font-family: inherit; background: none; border: none; }

    /* ================= HEADER (EXACT AS LEARN) ================= */
    header {
      position: sticky;
      top: 0;
      z-index: 200;
      background: var(--bg);
      border-bottom: 1px solid var(--border);
    }

    .header-inner {
      max-width: 1800px;
      margin: auto;
      padding: 16px 22px;
      display: grid;
      grid-template-columns: 1fr auto 1fr;
      align-items: center;
    }

    .nav-left {
      display: flex;
      gap: 34px;
      font-size: 12px;
      font-weight: 700;
      letter-spacing: .16em;
      text-transform: uppercase;
    }

    .nav-left a {
      color: var(--text);
      opacity: .85;
      transition: .2s;
    }

    .nav-left a:hover { opacity: 1; }

    .logo {
      justify-self: center;
      text-align: center;
      cursor: pointer;
      line-height: 1.1;
    }

    .logo-main {
      font-family: "Didot", "Playfair Display", serif;
      font-size: 28px;
      font-weight: 500;
      letter-spacing: .32em;
    }

    /* HEADER ACTIONS */
  .header-actions{
    justify-self:end;
    display:flex;
    align-items:center;
    gap:18px;
  }

  .icon-btn{
    background:none;
    border:none;
    font-size:20px;
    color:var(--text);
    transition:.25s;
    display:flex;
    align-items:center;
    justify-content:center;
    position:relative;
  }

  .icon-btn:hover{
    opacity:.7;
  }

  /* CART BADGE */
  .cart-badge{
    position:absolute;
    top:-6px;
    right:-8px;
    background:var(--text);
    color:var(--bg);
    font-size:10px;
    font-weight:700;
    padding:2px 6px;
    border-radius:999px;
    display:none;
  }

    .header-actions {
      justify-self: end;
      display: flex;
      align-items: center;
      gap: 18px;
    }

    .icon-btn {
      font-size: 20px;
      color: var(--text);
      cursor: pointer;
      transition: .2s;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .icon-btn:hover { opacity: .7; }

    /* LANGUAGE */
    .lang-wrapper { position: relative; }

    .lang-btn {
      font-size: 12px;
      font-weight: 700;
      letter-spacing: .12em;
      cursor: pointer;
      color: var(--text);
    }

    .lang-menu {
      position: absolute;
      right: 0;
      top: 130%;
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 12px;
      box-shadow: 0 12px 32px rgba(0,0,0,.2);
      padding: 6px;
      display: none;
      flex-direction: column;
      min-width: 150px;
      z-index: 300;
    }

    .lang-menu.active { display: flex; }

    .lang-menu button {
      padding: 10px 12px;
      text-align: left;
      cursor: pointer;
      font-size: 12px;
      font-weight: 600;
      letter-spacing: .08em;
      color: var(--text);
      border-radius: 8px;
      transition: .15s;
    }

    .lang-menu button:hover {
      background: rgba(0,0,0,.06);
    }

    body.dark .lang-menu button:hover {
      background: rgba(255,255,255,.08);
    }

    .menu-btn { display: none; }

    /* ================= MOBILE DRAWER ================= */
    .mobile-menu {
      position: fixed;
      top: 0;
      left: -100%;
      width: 300px;
      height: 100vh;
      background: var(--bg);
      border-right: 1px solid var(--border);
      padding: 28px 24px;
      display: flex;
      flex-direction: column;
      gap: 26px;
      transition: .35s ease;
      z-index: 250;
    }

    .mobile-menu.active { left: 0; }

    .mobile-top {
      display: grid;
      grid-template-columns: auto 1fr auto;
      align-items: center;
      margin-bottom: 24px;
    }

    .mobile-logo {
      text-align: center;
      font-family: "Didot", serif;
      font-size: 22px;
      letter-spacing: .28em;
      cursor: pointer;
    }

    .mobile-top .icon-btn {
      font-size: 20px;
    }

    .mobile-menu a {
      font-size: 12px;
      font-weight: 700;
      letter-spacing: .22em;
      text-transform: uppercase;
      color: var(--text);
    }

    .mobile-actions {
      margin-top: auto;
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.45);
      opacity: 0;
      pointer-events: none;
      transition: .3s;
      z-index: 220;
    }

    .overlay.active {
      opacity: 1;
      pointer-events: all;
    }

    /* ================= CART PAGE ================= */
    .cart-page {
      max-width: 1100px;
      margin: auto;
      padding: 120px 22px 140px;
      display: flex;
      flex-direction: column;
      gap: 90px;
    }

    .cart-head {
      text-align: center;
    }

    .cart-head h1 {
      font-size: clamp(26px, 4vw, 40px);
      letter-spacing: .18em;
      text-transform: uppercase;
      margin-bottom: 18px;
    }

    .cart-head p {
      font-size: 16px;
      color: var(--muted);
    }

    /* EMPTY STATE */
    .cart-empty {
      text-align: center;
      display: flex;
      flex-direction: column;
      gap: 26px;
      align-items: center;
    }

    .cart-empty i {
      font-size: 42px;
      opacity: .5;
    }

    .cart-empty span {
      font-size: 14px;
      letter-spacing: .18em;
      font-weight: 700;
      text-transform: uppercase;
      opacity: .6;
    }

    .cart-empty p {
      font-size: 15px;
      color: var(--muted);
      max-width: 420px;
      line-height: 1.7;
    }

    .cart-empty a {
      position:relative; 
      margin-top: 10px;
      font-size: 12px;
      font-weight: 700;
      letter-spacing: .18em;
      text-transform: uppercase;
      border-bottom: 1px solid currentColor;
      padding-bottom: 4px;
    }

    /* ================= CART ITEMS REDESIGN ================= */

.cart-items-wrapper{
  display:flex;
  flex-direction:column;
  gap:60px;
}

.cart-item{
  position:relative;
  display:grid;
  grid-template-columns:clamp(90px,22vw,160px) 1fr;
  gap:clamp(14px,3vw,30px);
  align-items:center;

  width:100%;
  max-width:100%;
  padding:clamp(16px,3vw,30px);
  border-bottom:1px solid var(--border);
}


.cart-item-image{
  width:160px;
  height:160px;
  border-radius:18px;
  overflow:hidden;
}

.cart-item-image img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}

.cart-item-info{
  display:flex;
  flex-direction:column;
  gap:16px;
}

.cart-item-info h3{
  font-size:18px;
  font-weight:600;
}

.qty-control{
  display:flex;
  align-items:center;
  gap:18px;
}

.qty-control button{
  width:36px;
  height:36px;
  border-radius:50%;
  border:1px solid var(--border);
  background:transparent;
  color:var(--text);
  font-size:14px;
  font-weight:600;
  cursor:pointer;
  transition:.25s;
}

.qty-control button:hover{
  background:var(--text);
  color:var(--bg);
}

.qty-control span{
  min-width:22px;
  text-align:center;
  font-weight:600;
}

.cart-item-price{
  font-size:18px;
  font-weight:600;
}

.remove-btn{
  position:absolute;
  right:12px;
  bottom:12px;
  font-size: 18px;
  width:36px;
  height:36px;

  border-radius:50%;
  border:1px solid var(--border);
  background:var(--bg);

  display:flex;
  align-items:center;
  justify-content:center;

  color:var(--muted);
  cursor:pointer;
  transition:.25s;
}

.remove-btn:hover{
  background:#ff3b30;
  border-color:#ff3b30;
  color:#fff;
}

/* ================= CHECKOUT BAR ================= */

.checkout-bar{
  margin-top:60px;
  padding-top:30px;
  border-top:1px solid var(--border);
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:40px;
}

.checkout-total{
  font-size:18px;
  font-weight:700;
  letter-spacing:.08em;
}

.checkout-actions{
  display:flex;
  gap:16px;
}

.checkout-btn{
  padding:14px 38px;
  border-radius:999px;
  font-size:12px;
  font-weight:700;
  letter-spacing:.14em;
  text-transform:uppercase;
  cursor:pointer;
  transition:.25s;
}

.checkout-btn.primary{
  background:var(--text);
  color:var(--bg);
  border:1px solid var(--text);
}

.checkout-btn.secondary{
  background:transparent;
  border:1px solid var(--text);
  color:var(--text);
}

.checkout-btn:hover{
  transform:translateY(-2px);
}

/* ================= MOBILE ================= */

@media(max-width:820px){

  .cart-items-wrapper{
    gap:32px;
  }

  .cart-item{
    grid-template-columns:90px 1fr;
    gap:16px;
    padding-bottom:24px;
  }

  .cart-item-image{
    width:90px;
    height:90px;
    border-radius:12px;
  }

  .cart-item-price{
    grid-column:2;
    font-size:16px;
    margin-top:6px;
  }

  .checkout-bar{
    flex-direction:column;
    align-items:stretch;
    gap:20px;
  }

  .checkout-actions{
    flex-direction:column;
  }

  .checkout-btn{
    width:100%;
  }
}


    .pay-btn {
      padding: 12px 28px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 700;
      letter-spacing: .12em;
      cursor: pointer;
      border: 1px solid var(--text);
      transition: .25s;
      background: transparent;
      color: var(--text);
    }

    .pay-btn.primary {
      background: var(--text);
      color: var(--bg);
      border-color: var(--text);
    }

    .pay-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 12px 30px rgba(0,0,0,.15);
    }

    .trash-btn{
      position:absolute;
      right:16px;
      bottom:16px;
      width:34px;
      height:34px;
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      background:transparent;
      border:1px solid var(--border);
      color:var(--muted);
      cursor:pointer;
      transition:.25s;
    }

    .trash-btn:hover{
      background:#ff3b30;
      border-color:#ff3b30;
      color:#fff;
    }

    /* CONTACT */
    .cart-contact {
      text-align: center;
      font-size: 13px;
      color: var(--muted);
      line-height: 1.7;
    }

    /* ================= RESPONSIVE ================= */

    @media(max-width:820px){
    .trash-btn{
      right:12px;
      bottom:12px;
    }
   }
    @media (max-width: 820px) {
      .nav-left { display: none; }
      .menu-btn { display: inline-flex; }

      .logo {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
      }

      .logo-main {
        font-size: 22px;
      }

      .header-inner {
        grid-template-columns: auto 1fr auto;
        padding: 22px 22px;
      }

      .theme-btn { display: none; }

      .cart-item {
        grid-template-columns: 90px 1fr;
        grid-template-rows: auto auto;
        gap: 14px;
      }

      .cart-price {
        grid-column: 2;
        justify-self: start;
      }

      .checkout-bar {
        flex-direction: column;
        align-items: stretch;
        gap: 20px;
      }

      .checkout-btns {
        justify-content: center;
      }
    }

    .qty-control{
  display:flex;
  align-items:center;
  gap:10px;
  margin-top:10px;
}

.qty-control button{
  width:32px;
  height:32px;
  border-radius:50%;
  border:1px solid var(--border);
  background:var(--button-bg);
  color:var(--button-text);
  cursor:pointer;
  font-weight:700;
  transition:.2s;
}

.qty-control button:hover{
  background:var(--text);
  color:var(--bg);
}

.remove-btn{
  background:none;
  border:none;
  color:var(--danger);
  cursor:pointer;
  font-weight:500;
}

.remove-btn:hover{
  opacity:1;
}

@media(max-width:820px){
  .cart-title{
    font-size:22px;
    margin-bottom:25px;
  }

  .cart-item{
    position:relative;
    display:grid;
    width:100%;
    max-width:100%;
    padding:clamp(16px,3vw,30px);
    grid-template-columns:clamp(90px,22vw,160px) 1fr;
    padding:16px;
    border:1px solid var(--border);
    border-radius:14px;
    transition:0.3s ease;
    grid-template-columns:90px 1fr;
    gap:14px;
  }

  

  .cart-item{
  overflow:hidden; /* обрезает всё что выходит за границы */
}

.cart-item img{
  width:100%;
  height:100%;
  object-fit:cover; /* картинка не растягивается */
  display:block;
}

  .cart-item img{
    border-radius:12px;
  }

  .cart-info h3{
    font-size:16px;
  }

  .cart-price{
    grid-column:2;
    text-align:left;
    font-size:16px;
    margin-top:6px;
  }

  .qty-control{
    margin-top:8px;
  }

  .qty-control button{
    width:32px;
    height:32px;
  }

  .remove-btn{
    font-size:16px;
  }

  .checkout-bar{
    position:fixed;
    bottom:0;
    left:0;
    right:0;
    background:var(--bg);
    padding:18px 20px;
    border-top:1px solid var(--border);
    display:flex;
    flex-direction:column;
    gap:15px;
    z-index:100;
  }

  .checkout-total{
    font-size:18px;
  }

  .pay-btn{
    width:100%;
  }
}

@media(max-width:820px){

  .cart-page{
    padding:20px 16px 120px;
    gap:30px;
  }

}

@media(max-width:820px){

  /* ❌ скрываем заголовок */
  .cart-head{
    display:none;
  }

@media(max-width:820px){

  .empty-cart{
    padding-top:0 !important;
    min-height:100vh;
    display:flex !important;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    text-align:center;
  }

  .empty-cart .cart-empty{
    display:flex;
    flex-direction:column;
    align-items:center;
  }

}


    /* ================= RTL ================= */
    html[dir="rtl"] { direction: rtl; }

    html[dir="rtl"] .lang-menu {
      right: auto;
      left: 0;
    }

    html[dir="rtl"] .mobile-menu {
      left: auto;
      right: -100%;
      border-right: none;
      border-left: 1px solid var(--border);
    }

    html[dir="rtl"] .mobile-menu.active {
      right: 0;
    }
  </style>
</head>
<body>

<!-- ================= HEADER ================= -->
<header>
  <div class="header-inner">

    <button class="icon-btn menu-btn" onclick="toggleMenu()" aria-label="Menu">
      <i class="fa-solid fa-bars"></i>
    </button>

    <nav class="nav-left">
      <a href="index.html" data-i18n="about">About Us</a>
      <a href="learn.html" data-i18n="learn">Learn</a>
      <a href="product.html">Product</a>
    </nav>

    <div class="logo" onclick="goHome()">
      <span class="logo-main">LUNAVEK</span>
    </div>

    <div class="header-actions">
      <div class="lang-wrapper">
        <button class="lang-btn" onclick="toggleLangMenu()" id="LangBtn">EN</button>
        <div class="lang-menu" id="langMenu">
          <button onclick="setLang('en')">EN English</button>
          <button onclick="setLang('fr')">FR Français</button>
          <button onclick="setLang('ar')">AR العربية</button>
        </div>
      </div>

      <button class="icon-btn" aria-label="Cart">
        <a href="cart.html" class="icon-btn"><i class="fa-solid fa-bag-shopping"></i>
        <span class="cart-badge" id="cartBadge">0</span></a>
      </button>

      <button class="icon-btn theme-btn" onclick="toggleTheme()" aria-label="Toggle theme">
        <i class="fa-solid fa-moon"></i>
      </button>
    </div>

  </div>
</header>

<!-- ================= MOBILE MENU ================= -->
<div class="mobile-menu" id="mobileMenu">

  <div class="mobile-top">
    <button class="icon-btn" onclick="toggleMenu()"><i class="fa-solid fa-xmark"></i></button>
    <div class="mobile-logo" onclick="goHome()">LUNAVEK</div>
    <button class="icon-btn"><i class="fa-solid fa-bag-shopping"></i>
    <span class="cart-badge" id="cartBadge">0</span>
    </button>
  </div>

  <a href="index.html" data-i18n="about">About Us</a>
  <a href="learn.html" data-i18n="learn">Learn</a>
  <a href="product.html">Product</a>

  <div class="mobile-actions">
    <div class="lang-wrapper">
      <button class="lang-btn" onclick="toggleLangMenuMobile()" id="LangBtnMobile">EN</button>
      <div class="lang-menu" id="langMenuMobile">
        <button onclick="setLang('en')">EN English</button>
        <button onclick="setLang('fr')">FR Français</button>
        <button onclick="setLang('ar')">AR العربية</button>
      </div>
    </div>

    <button class="icon-btn" onclick="toggleTheme()"><i class="fa-solid fa-moon"></i></button>
  </div>

</div>

<div class="overlay" id="overlay" onclick="toggleMenu()"></div>

<!-- ================= CART ================= -->
<main class="cart-page">

  <section class="cart-head">
    <h1 data-i18n="cartTitle">Your Cart</h1>
    <p data-i18n="cartSubtitle">Review your selected items before checkout.</p>
  </section>

  <!-- EMPTY STATE -->
  <section class="cart-empty" id="cartEmpty">
    <i class="fa-solid fa-bag-shopping"></i>
    <span data-i18n="cartEmptyTitle">Your cart is empty</span>
    <p data-i18n="cartEmptyText">
      Looks like you haven’t added anything yet. Discover our LED beauty device and begin your skincare ritual.
    </p>
    <a href="index.html" data-i18n="cartShop">Continue Shopping</a>
  </section>

  <!-- ITEMS (hidden until something is added later) -->
  <section id="cartItems" style="display:none;"></section>

</main>

<!-- ================= CONTACT ================= -->
<p class="cart-contact" data-i18n="cartContact">
  Need help? Contact us at +96178825549
</p>

<script>
/* ================= THEME (SYNCED) ================= */
function applyTheme(theme) {
  document.body.classList.toggle("dark", theme === "dark");
}

function toggleTheme() {
  const newTheme = document.body.classList.contains("dark") ? "light" : "dark";
  applyTheme(newTheme);
  localStorage.setItem("theme", newTheme);
}

(function () {
  const savedTheme = localStorage.getItem("theme");
  if (savedTheme) applyTheme(savedTheme);
})();

/* ================= MENU ================= */
const menu = document.getElementById("mobileMenu");
const overlay = document.getElementById("overlay");

function toggleMenu() {
  menu.classList.toggle("active");
  overlay.classList.toggle("active");
}

/* ================= HOME ================= */
function goHome() {
  window.location.href = "index.html";
}

/* ================= LANGUAGE ================= */
const translations = {
  en: {
    about: "About Us",
    learn: "Learn",
    cartTitle: "Your Cart",
    cartSubtitle: "Review your selected items before checkout.",
    cartEmptyTitle: "Your cart is empty",
    cartEmptyText: "Looks like you haven’t added anything yet. Discover our LED beauty device and begin your skincare ritual.",
    cartShop: "Continue Shopping",
    cartContact: "Need help? Contact us at +96178825549"
  },
  fr: {
    about: "À propos",
    learn: "Découvrir",
    cartTitle: "Votre panier",
    cartSubtitle: "Vérifiez vos articles avant le paiement.",
    cartEmptyTitle: "Votre panier est vide",
    cartEmptyText: "Vous n’avez encore rien ajouté. Découvrez notre appareil LED et commencez votre rituel beauté.",
    cartShop: "Continuer vos achats",
    cartContact: "Besoin d’aide ? Contactez-nous au +96178825549"
  },
  ar: {
    about: "من نحن",
    learn: "تعرف أكثر",
    cartTitle: "سلة التسوق",
    cartSubtitle: "راجع المنتجات قبل الدفع.",
    cartEmptyTitle: "سلتك فارغة",
    cartEmptyText: "لم تقم بإضافة أي منتج بعد. اكتشف جهاز العناية LED وابدأ روتينك الجمالي.",
    cartShop: "متابعة التسوق",
    cartContact: "هل تحتاج مساعدة؟ اتصل بنا على +96178825549"
  }
};

const langBtn = document.getElementById("LangBtn");
const langBtnMobile = document.getElementById("LangBtnMobile");
const langMenu = document.getElementById("langMenu");
const langMenuMobile = document.getElementById("langMenuMobile");

function toggleLangMenu() {
  langMenu.classList.toggle("active");
}

function toggleLangMenuMobile() {
  langMenuMobile.classList.toggle("active");
}

function setLang(lang) {
  localStorage.setItem("lang", lang);

  document.documentElement.lang = lang;
  document.documentElement.dir = lang === "ar" ? "rtl" : "ltr";

  langBtn.textContent = lang.toUpperCase();
  langBtnMobile.textContent = lang.toUpperCase();

  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.getAttribute("data-i18n");
    if (translations[lang][key]) {
      el.innerHTML = translations[lang][key];
    }
  });

  langMenu.classList.remove("active");
  langMenuMobile.classList.remove("active");
}

(function () {
  const savedLang = localStorage.getItem("lang") || "en";
  setLang(savedLang);
})();

document.addEventListener("click", e => {
  if (!e.target.closest(".lang-wrapper")) {
    langMenu.classList.remove("active");
    langMenuMobile.classList.remove("active");
  }
});
</script>

<script>
document.addEventListener("DOMContentLoaded", function(){

  function updateCartBadges(){

    const cart = JSON.parse(localStorage.getItem("cart")) || [];
    const total = cart.reduce((sum, item) => sum + (item.qty || 1), 0);

    const badges = document.querySelectorAll(".cart-badge");

    badges.forEach(function(badge){
      if(total > 0){
        badge.textContent = total;
        badge.style.display = "flex";
      } else {
        badge.style.display = "none";
      }
    });
  }

  updateCartBadges();

});
</script>

<script>
document.addEventListener("DOMContentLoaded", function(){

  const cartItems = document.getElementById("cartItems");
  const cartEmpty = document.getElementById("cartEmpty");

  function getCart(){
    return JSON.parse(localStorage.getItem("cart")) || [];
  }

  function saveCart(cart){
    localStorage.setItem("cart", JSON.stringify(cart));
  }

  function updateBadge(){
    const cart = getCart();
    const total = cart.reduce((sum,i)=> sum + i.qty, 0);
    document.querySelectorAll(".cart-badge").forEach(b=>{
      if(total>0){
        b.textContent = total;
        b.style.display="flex";
      } else {
        b.style.display="none";
      }
    });
  }

  function changeQty(index, amount){
    const cart = getCart();

    cart[index].qty += amount;

    if(cart[index].qty <= 0){
      cart.splice(index,1);
    }

    saveCart(cart);
    renderCart();
    updateBadge();
  }

  function removeItem(index){
    const cart = getCart();
    cart.splice(index,1);
    saveCart(cart);
    renderCart();
    updateBadge();
  }

  function renderCart(){
  
  const cartPage = document.querySelector(".cart-page");
  const cartHead = document.querySelector(".cart-head");
  const cart = getCart();

  if(cart.length === 0){

  cartEmpty.style.display="flex";
  cartItems.style.display="none";
  cartHead.style.display="block";

  // добавляем класс пустого состояния
  cartPage.classList.add("empty-cart");

  return;
}

  cartPage.classList.remove("empty-cart");

  cartEmpty.style.display="none";
  cartItems.style.display="block";
  cartItems.innerHTML = '<div class="cart-items-wrapper"></div>';

  const wrapper = cartItems.querySelector(".cart-items-wrapper");

  let totalPrice = 0;

  cart.forEach((item,index)=>{

    totalPrice += item.price * item.qty;

    const row = document.createElement("div");
    row.className="cart-item";

    row.innerHTML = `
  <div class="cart-item-image">
    <img src="${item.image || 'product1.jpg'}">
  </div>

  <div class="cart-item-info">
    <h3>${item.name}</h3>

    <div class="qty-control">
      <button onclick="changeQty(${index}, -1)">−</button>
      <span>${item.qty}</span>
      <button onclick="changeQty(${index}, 1)">+</button>
    </div>

    <div class="cart-item-price">
      $${item.price * item.qty}
      <button class="remove-btn" onclick="removeItem(${index})">
        <i class="fa-regular fa-trash-can"></i>
      </button>
    </div>
  </div>
`;

    wrapper.appendChild(row);
  });

  const checkout = document.createElement("div");
  checkout.className="checkout-bar";
  checkout.innerHTML = `
    <div class="checkout-total">
      Total — $${totalPrice}
    </div>
    <div class="checkout-actions">
      <button class="checkout-btn secondary" onclick="window.location='product.html'">
        Continue Shopping
      </button>
      <button class="checkout-btn primary" onclick="window.location='checkout.html'">
        Checkout
      </button>
    </div>
  `;

  cartItems.appendChild(checkout);
}


  // делаем функции глобальными
  window.changeQty = changeQty;
  window.removeItem = removeItem;

  renderCart();
  updateBadge();

});
</script>

<script>
document.addEventListener("DOMContentLoaded", function(){

  const minusBtn = document.getElementById("minus");
  const plusBtn = document.getElementById("plus");
  const qtyDisplay = document.getElementById("quantity");
  const addBtn = document.getElementById("addToCart");

  let qty = 1;

  function updateQty(){
    qtyDisplay.textContent = qty;
  }

  minusBtn.addEventListener("click", ()=>{
    if(qty > 1){
      qty--;
      updateQty();
    }
  });

  plusBtn.addEventListener("click", ()=>{
    qty++;
    updateQty();
  });

  addBtn.addEventListener("click", ()=>{

    const product = {
      id: "lunavek-mask",
      name: "Professional LED Facial Mask",
      price: 220,
      qty: qty,
      image: "product1.jpg"
    };

    let cart = JSON.parse(localStorage.getItem("cart")) || [];

    const existing = cart.find(item => item.id === product.id);

    if(existing){
      existing.qty += qty;
    } else {
      cart.push(product);
    }

    localStorage.setItem("cart", JSON.stringify(cart));

    updateBadge();

  });

  function updateBadge(){
    const cart = JSON.parse(localStorage.getItem("cart")) || [];
    const total = cart.reduce((sum,i)=> sum + i.qty, 0);

    document.querySelectorAll(".cart-badge").forEach(b=>{
      if(total > 0){
        b.textContent = total;
        b.style.display = "flex";
      } else {
        b.style.display = "none";
      }
    });
  }

  updateBadge();

});
</script>
</body>
</html>






